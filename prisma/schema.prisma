// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Participante {
  id                    Int @id @default(autoincrement())
  nome                  String
  email                 String
  cargo                 String
  participanteReuniao   ParticipanteReuniao[]
  createdAt             DateTime @default(now())
}

model Categoria {
  id          Int @id @default(autoincrement())
  descricao   String
  reuniao     Reuniao[]
  createdAt   DateTime @default(now())
}

model Reuniao {
  id                    Int @id @default(autoincrement())
  visita                String
  participanteReuniao   ParticipanteReuniao[]
  data                  DateTime
  local                 String
  categoria             Categoria @relation(fields: [categoriaId], references: [id])
  categoriaId           Int
  duracao               String
  assunto               String
  createdAt             DateTime @default(now())
  updatedAt             DateTime @default(now())
}

model ParticipanteReuniao {
  participanteReuniaoId Int @id @default(autoincrement())
  formularioReuniao   Reuniao @relation(fields: [reuniaoId], references: [id])
  reuniaoId           Int
  participante        Participante @relation(fields: [participanteId], references: [id])
  participanteId      Int

}

model Plano {
  id                    Int @id @default(autoincrement())
  descricao             String
  formularioCoworking   Coworking[]
  createdAt             DateTime @default(now())
  updatedAt             DateTime @default(now())
}

model Coworking {
  id            Int @id @default(autoincrement())
  nome          String
  telefone      String
  organizacao   String
  data          DateTime
  plano         Plano @relation(fields: [planoId], references: [id])
  planoId       Int
  observacao    String
  createdAt     DateTime @default(now())
  updatedAt     DateTime @default(now())
}